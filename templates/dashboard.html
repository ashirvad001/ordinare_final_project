<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordinare - Smart Student Portal</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='ordinare-icon.png') }}">
    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='ordinare-icon.png') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/enhanced_style.css') }}">
</head>
<body>
    <!-- Header -->
    <header class="app-header py-3">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center" style="gap: 15px;">
                    <img src="{{ url_for('static', filename='ordinare-icon.png') }}" 
                         alt="Ordinare Logo" 
                         style="height: 70px; width: auto; object-fit: contain;">
                    <div>
                        <div class="d-flex align-items-center" style="gap: 10px;">
                            <h2 class="text-white mb-0 fw-bold" style="letter-spacing: 1px;">Ordinare</h2>
                            <span class="badge bg-light text-success version-badge-small">V2.0</span>
                        </div>
                        <p class="text-white-50 mb-0 small d-none d-md-block">
                            Smart Student Management System
                        </p>
                    </div>
                </div>
                <div id="headerUserInfo" class="text-white d-none">
                    <div class="text-end">
                        <div class="fw-bold" id="headerUsername">Welcome!</div>
                        <small class="opacity-75">Logged in</small>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid main-container">
        <div class="row g-4">
            <!-- Sidebar Navigation (Desktop) -->
            <div class="col-lg-3 d-none d-lg-block">
                <div class="sidebar p-3">
                    <!-- App Sections -->
                    <div id="appNavSection" class="d-none">
                        <div class="text-muted text-uppercase small fw-bold mb-2 px-3">Main</div>
                        <div class="nav-item py-3 px-3 rounded mb-2 active" onclick="showTab('dashboard')">
                            <i class="bi bi-speedometer2 me-2"></i> Dashboard
                            <span class="feature-badge badge-coming-soon float-end">Soon</span>
                        </div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('setup')">
                            <i class="bi bi-gear-fill me-2"></i> Setup
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>

                        <hr class="my-3">
                        <div class="text-muted text-uppercase small fw-bold mb-2 px-3">Attendance</div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('timetable')">
                            <i class="bi bi-calendar-week me-2"></i> Timetable
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('attendance')">
                            <i class="bi bi-check2-square me-2"></i> Mark Attendance
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('subjectwise')">
                            <i class="bi bi-journals me-2"></i> Subject-wise
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('analytics')">
                            <i class="bi bi-calculator me-2"></i> Bunk Calculator
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>

                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('studyTracker')">
                            <i class="bi bi-clock-history me-2"></i> Study Tracker
                            <span class="feature-badge badge-active float-end">Active</span>
                        </div>

                        <hr class="my-3">
                        <div class="text-muted text-uppercase small fw-bold mb-2 px-3">Future Features</div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('scorePrediction')">
                            <i class="bi bi-graph-up-arrow me-2"></i> Score Prediction
                            <span class="feature-badge badge-coming-soon float-end">Soon</span>
                        </div>

                        <hr class="my-3">
                        <div class="text-muted text-uppercase small fw-bold mb-2 px-3">Account</div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('profile')">
                            <i class="bi bi-person-circle me-2"></i> Profile
                        </div>
                        <div class="nav-item py-3 px-3 rounded mb-2" onclick="showTab('upload')">
                            <i class="bi bi-cloud-upload me-2"></i> Upload Data
                        </div>
                        <div class="nav-item py-3 px-3 rounded text-danger" onclick="logout()">
                            <i class="bi bi-box-arrow-left me-2"></i> Logout
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile Bottom Navigation -->
            <div class="mobile-nav d-lg-none fixed-bottom">
                <div class="d-flex" id="mobileNavContainer">
                    <div class="mobile-nav-item" onclick="showTab('dashboard')">
                        <i class="bi bi-speedometer2 d-block mb-1"></i>
                        <small>Dashboard</small>
                    </div>
                    <div class="mobile-nav-item" onclick="showTab('attendance')">
                        <i class="bi bi-check2-square d-block mb-1"></i>
                        <small>Attend</small>
                    </div>
                    <div class="mobile-nav-item" onclick="showTab('analytics')">
                        <i class="bi bi-calculator d-block mb-1"></i>
                        <small>Bunk</small>
                    </div>
                    <div class="mobile-nav-item" onclick="showTab('profile')">
                        <i class="bi bi-person-circle d-block mb-1"></i>
                        <small>Profile</small>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="col-lg-9">
                <div class="content-area p-4 mb-5 mb-lg-0">
                    <!-- Dashboard Tab -->
                    <div id="dashboard" class="tab-content-panel active">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-speedometer2 me-2 text-primary-custom"></i>
                                Dashboard Overview
                            </h2>
                        </div>

                        <div class="coming-soon-card">
                            <i class="bi bi-rocket-takeoff coming-soon-icon"></i>
                            <h3 class="mt-3 mb-3">Dashboard Coming Soon!</h3>
                            <p class="text-muted mb-4 lead">We're building an amazing dashboard with real-time analytics, quick actions, and personalized insights just for you.</p>
                            <div class="row g-3 text-start">
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-check-circle-fill text-success me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Quick Stats</strong>
                                            <p class="text-muted small mb-0">View all important metrics at a glance</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-check-circle-fill text-success me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Recent Activity</strong>
                                            <p class="text-muted small mb-0">Track your latest attendance & study sessions</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-check-circle-fill text-success me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Performance Trends</strong>
                                            <p class="text-muted small mb-0">Beautiful charts showing your progress</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-check-circle-fill text-success me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Smart Alerts</strong>
                                            <p class="text-muted small mb-0">Get notified about low attendance & deadlines</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Setup Tab -->
                    <div id="setup" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-gear-fill me-2 text-primary-custom"></i>
                                Initial Setup
                            </h2>
                            <p class="text-muted mt-2 mb-0">Configure your semester details and subjects</p>
                        </div>

                        <div class="row">
                            <div class="col-lg-10 mx-auto">
                                <div class="glass-card p-4 mb-4">
                                    <h5 class="mb-3 fw-bold">
                                        <i class="bi bi-person-badge me-2 text-primary-custom"></i>
                                        Personal Information
                                    </h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label fw-semibold">Student Name</label>
                                            <input type="text" id="studentName" class="form-control" placeholder="Enter your full name">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label fw-semibold">University Roll No</label>
                                            <input type="text" id="universityRollNo" class="form-control" placeholder="Enter roll number">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label fw-semibold">Semester Name</label>
                                            <input type="text" id="semesterName" class="form-control" placeholder="e.g., Fall 2024">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label fw-semibold">Number of Subjects</label>
                                            <input type="number" id="numSubjects" class="form-control" min="1" max="10" value="5">
                                        </div>
                                    </div>
                                    <button class="btn btn-primary-custom mt-3" onclick="generateSubjectInputs()">
                                        <i class="bi bi-plus-circle me-2"></i>
                                        Generate Subject Fields
                                    </button>
                                </div>

                                <div id="subjectInputsContainer" class="d-none">
                                    <div class="glass-card p-4">
                                        <h5 class="mb-3 fw-bold">
                                            <i class="bi bi-journal-text me-2 text-primary-custom"></i>
                                            Subject Details
                                        </h5>
                                        <div id="subjectInputs"></div>
                                        <button class="btn btn-success btn-lg w-100 mt-3" onclick="saveSubjects()">
                                            <i class="bi bi-check-circle me-2"></i>
                                            Save All Information
                                        </button>
                                    </div>
                                </div>

                                <div id="setupComplete" class="alert alert-success mt-4 d-none">
                                    <i class="bi bi-check-circle-fill me-2"></i>
                                    <strong>Setup completed successfully!</strong> You can now create your timetable.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Timetable Tab -->
                    <div id="timetable" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-calendar-week me-2 text-primary-custom"></i>
                                Weekly Timetable
                            </h2>
                            <p class="text-muted mt-2 mb-0">Manage your class schedule</p>
                        </div>
                        <div id="timetableContainer"></div>
                        <button class="btn btn-success mt-3" onclick="saveTimetable()" id="saveTimetableBtn">
                            <i class="bi bi-save me-2"></i>
                            Save Timetable
                        </button>
                    </div>

                    <!-- Mark Attendance Tab -->
                    <div id="attendance" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-check2-square me-2 text-primary-custom"></i>
                                Mark Today's Attendance
                            </h2>
                            <p class="text-muted mt-2 mb-0">Track your class attendance</p>
                        </div>
                        <div id="attendanceContainer"></div>
                    </div>

                    <!-- Subject-wise Tab -->
                    <div id="subjectwise" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-journals me-2 text-primary-custom"></i>
                                Subject-wise Attendance
                            </h2>
                            <p class="text-muted mt-2 mb-0">View detailed attendance for each subject</p>
                        </div>
                        <div id="subjectWiseAttendanceContent"></div>
                    </div>

                    <!-- Analytics/Bunk Calculator Tab -->
                    <div id="analytics" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-calculator me-2 text-primary-custom"></i>
                                Bunk Calculator & Analytics
                            </h2>
                            <p class="text-muted mt-2 mb-0">Calculate safe bunks and view statistics</p>
                        </div>
                        
                        <div class="row g-4">
                            <div class="col-lg-6">
                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-graph-up me-2"></i>
                                        Overall Statistics
                                    </h5>
                                    <div id="overallAttendanceDisplay" class="display-6 text-primary-custom">
                                        Loading...
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-calculator me-2"></i>
                                        Calculate Safe Bunks
                                    </h5>
                                    <label class="form-label">Target Attendance %</label>
                                    <input type="number" id="targetPercentage" class="form-control mb-3" value="75" min="0" max="100">
                                    <button class="btn btn-primary-custom w-100" onclick="calculateBunks()">
                                        <i class="bi bi-magic me-2"></i>
                                        Calculate
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div id="bunkResults" class="mt-4"></div>

                        <div class="glass-card p-4 mt-4">
                            <h5 class="fw-bold mb-3">
                                <i class="bi bi-bar-chart-fill me-2"></i>
                                Attendance Visualization
                            </h5>
                            <div id="attendancePlotDisplay"></div>
                        </div>
                    </div>

                    <!-- Score Prediction Tab -->
                    <div id="scorePrediction" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-graph-up-arrow me-2 text-primary-custom"></i>
                                Score Prediction System
                            </h2>
                        </div>

                        <div class="coming-soon-card">
                            <i class="bi bi-trophy coming-soon-icon"></i>
                            <h3 class="mt-3 mb-3">Score Prediction Coming Soon!</h3>
                            <p class="text-muted mb-4 lead">An intelligent rule-based system to predict your required scores and help you achieve your academic goals.</p>
                            <div class="row g-3 text-start">
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-lightbulb-fill text-warning me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>CGPA Calculator</strong>
                                            <p class="text-muted small mb-0">Calculate and track your semester & cumulative GPA</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-lightbulb-fill text-warning me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Target Score Analyzer</strong>
                                            <p class="text-muted small mb-0">Find out what scores you need to reach your target</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-lightbulb-fill text-warning me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>Grade Predictor</strong>
                                            <p class="text-muted small mb-0">Estimate final grades based on current performance</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="d-flex align-items-start">
                                        <i class="bi bi-lightbulb-fill text-warning me-2 mt-1 fs-5"></i>
                                        <div>
                                            <strong>What-If Scenarios</strong>
                                            <p class="text-muted small mb-0">See how different scores affect your overall performance</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Study Tracker Tab -->
                    <div id="studyTracker" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-clock-history me-2 text-primary-custom"></i>
                                Study Session Tracker
                            </h2>
                            <p class="text-muted mt-2 mb-0">Track your study time and boost productivity</p>
                        </div>

                        <div class="row g-4">
                            <div class="col-lg-8">
                                <div class="glass-card p-4 mb-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-stopwatch me-2"></i>Study Timer</h5>
                                    <div class="text-center mb-4">
                                        <div id="timerDisplay" class="display-1 fw-bold text-primary-custom mb-3">25:00</div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label fw-semibold">Select Subject</label>
                                            <select id="studySubject" class="form-select form-select-lg">
                                                <option value="">Select Subject</option>
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label class="form-label fw-semibold">Timer Duration</label>
                                            <div class="btn-group w-100 mb-2" role="group">
                                                <button type="button" class="btn btn-outline-primary" onclick="setTimerDuration(5)">
                                                    5 min
                                                </button>
                                                <button type="button" class="btn btn-outline-primary" onclick="setTimerDuration(15)">
                                                    15 min
                                                </button>
                                                <button type="button" class="btn btn-outline-primary" onclick="setTimerDuration(25)">
                                                    25 min
                                                </button>
                                                <button type="button" class="btn btn-outline-primary" onclick="setTimerDuration(30)">
                                                    30 min
                                                </button>
                                            </div>
                                            <div class="input-group">
                                                <span class="input-group-text">Custom</span>
                                                <input type="number" id="customTimer" class="form-control" placeholder="Minutes" min="1" max="180">
                                                <button class="btn btn-outline-secondary" onclick="setCustomTimer()">
                                                    <i class="bi bi-check"></i> Set
                                                </button>
                                            </div>
                                        </div>

                                        <div class="btn-group w-100" role="group">
                                            <button id="startBtn" class="btn btn-success btn-lg" onclick="startTimer()">
                                                <i class="bi bi-play-fill"></i> Start
                                            </button>
                                            <button id="pauseBtn" class="btn btn-warning btn-lg" onclick="pauseTimer()" disabled>
                                                <i class="bi bi-pause-fill"></i> Pause
                                            </button>
                                            <button id="stopBtn" class="btn btn-danger btn-lg" onclick="stopTimer()" disabled>
                                                <i class="bi bi-stop-fill"></i> Stop
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="glass-card p-4 mb-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-bar-chart me-2"></i>Weekly Analytics</h5>
                                    <div style="position: relative; height: 300px; width: 100%;">
                                        <canvas id="weeklyStudyChart" width="400" height="300"></canvas>
                                    </div>
                                    <div id="chartError" class="alert alert-info mt-3" style="display: none;">
                                        <i class="bi bi-info-circle me-2"></i>
                                        Start studying to see your weekly analytics!
                                    </div>
                                </div>

                                <div class="glass-card p-4 mb-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-pie-chart me-2"></i>Subject-wise Study Time</h5>
                                    <div style="position: relative; height: 300px; width: 100%;">
                                        <canvas id="subjectStudyChart" width="400" height="300"></canvas>
                                    </div>
                                    <div id="subjectChartError" class="alert alert-info mt-3" style="display: none;">
                                        <i class="bi bi-info-circle me-2"></i>
                                        No subject data available yet!
                                    </div>
                                </div>

                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-clock-history me-2"></i>Study History</h5>
                                    <div id="studyHistoryContainer">
                                        <div class="alert alert-info">
                                            <i class="bi bi-info-circle me-2"></i>
                                            No study sessions recorded yet. Start a timer to track your study time!
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="glass-card p-4 mb-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-trophy me-2"></i>Statistics</h5>
                                    <div class="mb-3">
                                        <small class="text-muted">Today's Study Time</small>
                                        <div class="h4 fw-bold text-primary-custom" id="todayTime">0h 0m</div>
                                    </div>
                                    <div class="mb-3">
                                        <small class="text-muted">This Week</small>
                                        <div class="h4 fw-bold text-success" id="weekTime">0h 0m</div>
                                    </div>
                                    <div class="mb-3">
                                        <small class="text-muted">Total Sessions</small>
                                        <div class="h4 fw-bold" id="totalSessions">0</div>
                                    </div>
                                    <div>
                                        <small class="text-muted">Current Streak</small>
                                        <div class="h4 fw-bold text-warning" id="studyStreak">0 days</div>
                                    </div>
                                </div>

                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3"><i class="bi bi-target me-2"></i>Goals</h5>
                                    <div class="mb-3">
                                        <label class="form-label small">Daily Goal (hours)</label>
                                        <input type="number" id="dailyGoal" class="form-control" value="2" min="0" max="24" step="0.5">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label small">Weekly Goal (hours)</label>
                                        <input type="number" id="weeklyGoal" class="form-control" value="14" min="0" max="168" step="1">
                                    </div>
                                    <button class="btn btn-primary-custom w-100" onclick="saveStudyGoals()">
                                        <i class="bi bi-save me-2"></i>Save Goals
                                    </button>
                                    <div class="mt-3">
                                        <small class="text-muted">Daily Progress</small>
                                        <div class="progress mb-2" style="height: 20px;">
                                            <div id="dailyProgress" class="progress-bar bg-success" role="progressbar" style="width: 0%">0%</div>
                                        </div>
                                        <small class="text-muted">Weekly Progress</small>
                                        <div class="progress" style="height: 20px;">
                                            <div id="weeklyProgress" class="progress-bar bg-primary" role="progressbar" style="width: 0%">0%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Tab -->
                    <div id="profile" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-person-circle me-2 text-primary-custom"></i>
                                Profile & Settings
                            </h2>
                        </div>

                        <div class="row g-4">
                            <div class="col-lg-8">
                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-info-circle me-2"></i>
                                        Personal Information
                                    </h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="text-muted small">Username</label>
                                            <div class="fw-bold" id="profileUsername">-</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="text-muted small">Student Name</label>
                                            <div class="fw-bold" id="profileStudentName">-</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="text-muted small">Roll Number</label>
                                            <div class="fw-bold" id="profileRollNo">-</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="text-muted small">Semester</label>
                                            <div class="fw-bold" id="profileSemester">-</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="text-muted small">Total Subjects</label>
                                            <div class="fw-bold" id="profileSubjects">-</div>
                                        </div>
                                        <div class="col-md-6">
                                            <label class="text-muted small">Overall Attendance</label>
                                            <div class="fw-bold" id="profileAttendance">-</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-gear me-2"></i>
                                        Actions
                                    </h5>
                                    <button class="btn btn-outline-danger w-100 mb-2" onclick="logout()">
                                        <i class="bi bi-box-arrow-left me-2"></i>
                                        Logout
                                    </button>
                                    <button class="btn btn-danger w-100" onclick="clearAllData()">
                                        <i class="bi bi-trash me-2"></i>
                                        Clear All Data
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Upload Tab -->
                    <div id="upload" class="tab-content-panel">
                        <div class="page-header">
                            <h2 class="mb-0">
                                <i class="bi bi-cloud-upload me-2 text-primary-custom"></i>
                                Upload Attendance File
                            </h2>
                            <p class="text-muted mt-2 mb-0">Import attendance data from Excel</p>
                        </div>

                        <div class="row">
                            <div class="col-lg-8 mx-auto">
                                <div class="glass-card p-4 mb-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-file-earmark-excel me-2"></i>
                                        Select Excel File
                                    </h5>
                                    <input type="file" id="attendanceFile" class="form-control mb-3" accept=".xlsx,.xls">
                                    <button class="btn btn-success w-100" onclick="uploadAttendanceFile()">
                                        <i class="bi bi-upload me-2"></i>
                                        Upload File
                                    </button>
                                    <div id="uploadMessage" class="mt-3"></div>
                                </div>

                                <div class="glass-card p-4">
                                    <h5 class="fw-bold mb-3">
                                        <i class="bi bi-info-circle me-2"></i>
                                        Expected Format
                                    </h5>
                                    <div class="table-responsive">
                                        <table class="table table-bordered">
                                            <thead class="table-light">
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Subject</th>
                                                    <th>Time Slot</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><code>YYYY-MM-DD</code></td>
                                                    <td>Subject Name</td>
                                                    <td><code>HH:MM-HH:MM</code></td>
                                                    <td><code>present</code> / <code>absent</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>2024-01-15</code></td>
                                                    <td>Mathematics</td>
                                                    <td><code>9:00-10:00</code></td>
                                                    <td><code>present</code></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="{{ url_for('static', filename='js/enhanced_script.js') }}"></script>
</body>
</html>